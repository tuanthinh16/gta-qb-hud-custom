<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Cluster</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-black min-h-screen flex flex-col items-center justify-end">

    <div
        class="relative w-[650px] h-[300px] rounded-b-[6rem] bg-gradient-to-b from-[#232323] to-black overflow-hidden shadow-2xl border-[10px] border-[#1a1a1a]">

        <div class="absolute left-0 top-0 w-full h-8 bg-gradient-to-b from-gray-300/30 to-transparent rounded-t-[4rem]">
        </div>
        <div
            class="absolute left-0 bottom-0 w-full h-8 bg-gradient-to-t from-gray-300/20 to-transparent rounded-b-[4rem]">
        </div>

        <!-- Bố cục grid 3 cột -->
        <div class="grid grid-cols-3 gap-2 h-full items-center relative z-10">
            <!-- Cột trái: Power/Charge -->
            <div class="flex flex-col items-center relative pl-2">
                <div class="relative text-[10px]">
                    <img src="metter1.svg" alt="Power gauge"
                        class="w-[200px] h-[200px] select-none pointer-events-none">
                    <span class="absolute top-[30px] left-[70px] -translate-x-1/2 text-white  font-bold"
                        id="engine-50">50%</span>
                    <span class="absolute left-[25px] top-[70px] text-white font-bold" id="engine-25">25%</span>
                    <span class="absolute right-[60px] top-[30px] text-white font-bold" id="engine-75">75%</span>
                    <span class="absolute left-[35px] top-[150px] text-white font-bold" id="engine-0">0%</span>
                    <span class="absolute right-[20px] top-[70px] text-white font-bold" id="engine-100">100%</span>
                    <span class="absolute left-[20px] top-[110px] text-white ">CHARGE</span>
                    <span class="absolute right-[30px] top-[170px] text-white text-xs" id="engine-120">120%</span>
                    <span
                        class="absolute bottom-[35px] left-1/2 -translate-x-1/2 text-white/60 text-xs select-none">⇄</span>
                    <span class="absolute text-white text-[56px] top-[70px] left-[90px] font-light leading-none mt-2"
                        id="gear">P</span>
                </div>
                <!-- Fuel range -->
                <div class="flex items-center gap-2 pl-6">
                    <img src="fuel-logo.svg" alt="">
                    <div class="text-white relative">
                        <img src="fuel.svg" class="w-[120px]" alt="fuel-logo">
                        <p class="absolute text-sm -left-7 top-2" id="fuelLevel">85%</p>
                    </div>
                </div>
            </div>

            <!-- Cột giữa: Số lớn và chế độ -->
            <div class="flex flex-col items-center justify-between h-full relative">
                <div class="mt-8 flex flex-col items-center gap-2">
                    <span class="block text-white/80 tracking-widest text-md" id="vehicleName">Sportsmanship</span>
                    <div class="w-44 h-1 rounded-full bg-gradient-to-r from-white via-white/60 to-white/10"></div>
                </div>
                <span class="block text-white text-6xl font-light leading-none mb-2" id="gear">P</span>
                <span class="block text-white/80 text-xl mb-3" id="mode">INDIVIDUAL</span>
                <div class="grid grid-cols-1 items-center gap-12">

                    <div class="flex flex-col items-center">
                        <img src="icon-rpm.svg" class="w-[150px] mb-10" alt="rpm-icon">
                    </div>
                </div>
            </div>

            <!-- Cột phải: Gauge tốc độ -->
            <div class="flex flex-col items-center relative">
                <!-- Gauge tốc độ -->
                <div class="relative text-[10px]">
                    <!-- Kim tốc độ -->
                    <svg class="absolute left-[60px] -bottom-[111px] z-20 pointer-events-none"
                        style="transform:translate(-50%,-50%);" width="160" height="160">
                        <line id="speed-needle" x1="80" y1="80" x2="110" y2="25" stroke="red" stroke-width="6"
                            stroke-linecap="round"
                            style="transform: rotate(-160deg); transform-origin: 80px 80px; transition: transform 0.15s cubic-bezier(.8,2,.6,1);" />
                    </svg>

                    <!-- Gauge nền (metter2.svg) -->
                    <img src="metter2.svg" alt="Speed gauge"
                        class="w-[200px] h-[200px] select-none pointer-events-none">

                    <!-- Vòng cung fill màu động -->
                    <svg class="absolute left-[60px] -bottom-[111px] z-10 pointer-events-none"
                        style="transform:translate(-50%,-50%);" width="160" height="160">
                        <!-- Đoạn path dưới đây là cung hình tròn, căn đúng theo kim và vòng ngoài gauge -->
                        <path id="speed-arc" d="M38,130 A60,60 0 1,1 122,38" fill="none" stroke="#00ffe7"
                            stroke-width="9" stroke-linecap="round" stroke-dasharray="0 188" />
                    </svg>

                    <!-- Các mốc số và label -->
                    <span class="absolute top-[75px] left-[25px] -translate-x-1/2 text-white font-bold"
                        id="speed-80">80</span>
                    <span class="absolute left-[15px] top-[110px] text-white font-bold" id="speed-40">40</span>
                    <span class="absolute left-[50px] top-[40px] text-white font-bold" id="speed-120">120</span>
                    <span class="absolute left-[40px] top-[160px] text-white font-bold" id="speed-0">0</span>
                    <span class="absolute left-[90px] top-[30px] text-white font-bold" id="speed-160">160</span>
                    <span class="absolute right-[55px] top-[40px] text-white font-bold" id="speed-200">200</span>
                    <span class="absolute right-[25px] top-[75px] text-white font-bold" id="speed-240">240</span>
                    <span class="absolute right-[20px] top-[115px] text-white font-bold" id="speed-260">260</span>
                    <span class="absolute right-[40px] top-[160px] text-white font-bold" id="speed-300">300</span>
                    <!-- Số tốc độ lớn -->
                    <div
                        class="text-6xl absolute text-white top-[80px] left-1/4 flex text-center items-center min-w-[90px]">
                        <span class="text-center mx-auto" id="speed-value">10</span>
                    </div>
                    <span
                        class="absolute bottom-[10px] left-1/2 -translate-x-1/2 text-white/80 text-sm font-bold tracking-widest">Km/h</span>
                </div>



                <div class="flex flex-col items-center mt-5">
                    <img src="light.svg" class="w-[150px]" alt="light-icon">
                </div>
            </div>
        </div>
    </div>
    <script>
        // Các thông số setup
        const minAngle = -160;
        const maxAngle = 80;
        const maxSpeed = 300;

        // Hàm tính góc từ speed
        function angleForSpeed(v) {
            v = Math.max(0, Math.min(v, maxSpeed));
            return minAngle + ((v / maxSpeed) * (maxAngle - minAngle));
        }

        // DEMO: các giá trị mẫu
        let testSpeeds = [0, 60, 120, 180, 240, 300];
        let idx = 0;

        function setSpeed(val) {
            document.getElementById('speed-value').textContent = val;
            document.getElementById('speed-needle').style.transform =
                `rotate(${angleForSpeed(val)}deg)`;
        }

        // Thay đổi giá trị mỗi 1.5s để demo
        setInterval(() => {
            setSpeed(testSpeeds[idx]);
            idx = (idx + 1) % testSpeeds.length;
        }, 1500);

        // Muốn dùng thực tế? Chỉ cần gọi setSpeed(tốc_độ_của_bạn);
    </script>

</body>

</html>